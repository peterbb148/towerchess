<!DOCTYPE html>
<html>
<head>
  <title>Tower Defense Game</title>
  <style>
    #scoreboard {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #ccc;
      text-align: center;
    }
    #gameBoard {
      position: relative;
      width: 360px;
      height: 640px;
      margin-top: 30px;
    }
    .cell {
      width: 40px;
      height: 40px;
      border: 1px solid black;
      position: absolute;
    }
    .path {
      background-color: lightgray;
    }
    .enemy, .pawn {
      width: 40px;
      height: 40px;
      position: absolute;
    }
    .enemy {
      background-color: red;
    }
    .pawn {
      background-color: green;
    }
  </style>
</head>
<body>
  <div id="scoreboard">Score: <span id="score">0</span></div>
  <div id="gameBoard"></div>

  <script>
    const rows = 16;
    const cols = 9;
    const board = document.getElementById('gameBoard');
    let path = [];
    let enemies = [];
    let pawns = [];
    let score = 0;
    const scoreboardEl = document.getElementById('score');

    for (let y = 0; y < rows; y++) {
      for (let x = 0; x < cols; x++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.style.left = `${x * 40}px`;
        cell.style.top = `${y * 40}px`;
        board.appendChild(cell);
      }
    }

    for (let i = 0; i < rows; i++) {
      path.push({ x: 4, y: i });
    }

    path.forEach(point => {
      const idx = point.y * cols + point.x;
      board.children[idx].classList.add('path');
    });

    function createEnemy(x, y) {
      const enemy = document.createElement('div');
      enemy.classList.add('enemy');
      enemy.style.left = `${x * 40}px`;
      enemy.style.top = `${y * 40}px`;
      board.appendChild(enemy);
      return enemy;
    }

    function moveEnemies() {
      enemies.forEach(enemy => {
        if (enemy.index < path.length - 1) {
          enemy.index++;
          const point = path[enemy.index];
          enemy.el.style.left = `${point.x * 40}px`;
          enemy.el.style.top = `${point.y * 40}px`;
          
          // Collision detection logic
          pawns.forEach((pawn, i) => {
            if (pawn.x === point.x && pawn.y === point.y) {
              score += 1;
              scoreboardEl.textContent = score;
              board.removeChild(pawn.el);
              pawns.splice(i, 1);
            }
          });
        } else {
          board.removeChild(enemy.el);
        }
      });
      enemies = enemies.filter(enemy => enemy.index < path.length - 1);
    }

    function spawnEnemy() {
      const enemy = { el: createEnemy(path[0].x, path[0].y), index: 0 };
      enemies.push(enemy);
    }

    function placePawn(x, y) {
      const pawn = document.createElement('div');
      pawn.classList.add('pawn');
      pawn.style.left = `${x * 40}px`;
      pawn.style.top = `${y * 40}px`;
      board.appendChild(pawn);
      pawns.push({ x, y, el: pawn });
    }

    spawnEnemy();
    setInterval(() => {
      spawnEnemy();
      moveEnemies();
    }, 1000);
  </script>
</body>
</html>