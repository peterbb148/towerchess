<!DOCTYPE html>
<html>
<head>
  <title>Tower Defense Game</title>
  <style>
    #gameBoard {
      position: relative;
      width: 360px;
      height: 640px;
    }
    .cell {
      width: 40px;
      height: 40px;
      border: 1px solid black;
      position: absolute;
    }
    .path {
      background-color: lightgray;
    }
    .enemy, .pawn {
      width: 40px;
      height: 40px;
      position: absolute;
    }
    .enemy {
      background-color: red;
    }
    .pawn {
      background-color: green;
    }
    .start, .end {
      width: 40px;
      height: 40px;
      position: absolute;
      background-color: blue;
    }
  </style>
</head>
<body>
  <div id="gameBoard"></div>

  <script>
    const rows = 16;
    const cols = 9;
    const board = document.getElementById('gameBoard');
    let path = [];
    let enemies = [];
    let pawns = 4;

    // Create board
    for (let y = 0; y < rows; y++) {
      for (let x = 0; x < cols; x++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.style.left = `${x * 40}px`;
        cell.style.top = `${y * 40}px`;
        cell.addEventListener('click', () => placePawn(x, y));
        board.appendChild(cell);
      }
    }

    // Create path
    for (let i = 0; i < rows; i++) {
      path.push({ x: 4, y: i });
    }

    // Highlight path
    path.forEach(point => {
      const idx = point.y * cols + point.x;
      board.children[idx].classList.add('path');
    });

    // Indicate start and end points
    const start = document.createElement('div');
    start.classList.add('start');
    start.style.left = `${path[0].x * 40}px`;
    start.style.top = `${path[0].y * 40}px`;
    board.appendChild(start);

    const end = document.createElement('div');
    end.classList.add('end');
    end.style.left = `${path[path.length - 1].x * 40}px`;
    end.style.top = `${path[path.length - 1].y * 40}px`;
    board.appendChild(end);

    // Create enemy
    function createEnemy(x, y) {
      const enemy = document.createElement('div');
      enemy.classList.add('enemy');
      enemy.style.left = `${x * 40}px`;
      enemy.style.top = `${y * 40}px`;
      board.appendChild(enemy);
      return enemy;
    }

    // Move enemies
    function moveEnemies() {
      enemies.forEach(enemy => {
        if (enemy.index < path.length - 1) {
          enemy.index++;
          const point = path[enemy.index];
          enemy.el.style.left = `${point.x * 40}px`;
          enemy.el.style.top = `${point.y * 40}px`;
        } else {
          board.removeChild(enemy.el);
        }
      });
      enemies = enemies.filter(enemy => enemy.index < path.length - 1);
    }

    // Spawn enemy
    function spawnEnemy() {
      const enemy = { el: createEnemy(path[0].x, path[0].y), index: 0 };
      enemies.push(enemy);
    }

    // Place pawn
    function placePawn(x, y) {
      if (pawns <= 0) return;
      const pawn = document.createElement('div');
      pawn.classList.add('pawn');
      pawn.style.left = `${x * 40}px`;
      pawn.style.top = `${y * 40}px`;
      board.appendChild(pawn);
      pawns--;
    }

    spawnEnemy();
    setInterval(() => {
      spawnEnemy();
      moveEnemies();
    }, 1000);
  </script>
</body>
</html>